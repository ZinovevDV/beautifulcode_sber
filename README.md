# beautifulcode_sber
Сервис для участия в конкурсе https://beautifulcode.sber.ru/task/java

Нам нужно создать приложение, которое поможет людям понять, правильно ли они расставили скобки в своем тексте. И, казалось бы, задача простая и известная - проверить открывающие и закрывающие пары. Но вот в чем соль: мы хотим, чтобы между этими скобками всегда был какой-то текст. То есть пустые скобки у нас тут не пройдут, они считаются некорректной штукой.

Помимо этого, для нашего приложения уже сделали и сайт, и мобилку. Поэтому нам следует разработать именно веб-сервис.

Итак, пример запроса:

POST /api/checkBrackets

{
  "text": "Вчера я отправился в поход в лес (это мое любимое место для отдыха) вместе с друзьями. Мы выбрали маршрут, который проходил через горные потоки и поля (для разнообразия). В начале пути погода была отличной, солнце светило ярко, и птицы радостно пели. Однако, когда мы подошли ближе к вершине горы, небо стало покрываться облаками, (как будто природа готовила нам небольшой сюрприз). Несмотря на это, виды были захватывающими, особенно когда мы достигли высшей точки и увидели прекрасный вид на долину (я почувствовал, что все усилия стоили того)."
}

Пример ответа для корректного текста:

{
  "isCorrect" : true
}

Пример ответа для некорректного текста:

{
  "isCorrect" : false
}

Поскольку без тестов ничего в прод не заливаем, следует их предусмотреть для корректного и некорректного случая. Также надо задуматься над архитектурой и следовать принципам SOLID - вдруг приложение “выстрелит” и мы захотим его доработать ;). Не забываем про обработку входных данных - не следует обрабатывать пустой текст. И правило хорошего тона - задокументировать наш API!

Также обязательно включить в решение README.md файл с инструкцией по развертыванию.

Удачи!

# Инструкция по развертыванию
## Вариант 1

Сборка и запуск из командной строки (предполагается, что на машине уже установлена Java версии не ниже 17)
1. собираем проект, для этого в командной строке в папке проекта выполняем команду
```shell
mvn clean package
```
2. запускаем проект

для этого переходим в подкаталог target
```shell
cd target
```
и запускаем проект, в примере запуск с профилем dev, чтоб подтянуть Swagger, и на порту 3000 (если не указать, запустится на порту, 
указанной в переменной окружения SERVICE_PORT, а если она не задана, то на 8080)
```shell
java -Dspring.profiles.active=dev -Dserver.port=3000  -jar beautifulcode_sber-0.0.1-SNAPSHOT.jar
```
3. тестируем проект
Если запустили с профилем dev, то переходим на главную страницу сервиса, в примере это будет
   http://localhost:3000/
Сработает автоматический редирект на 
  http://localhost:3000/swagger-ui/index.html
И с помощью данного Swagger'а можно будет потестироватьс сервис.

Еще варианты, с помощью curl, например:
```
curl -X 'POST' \
  'http://localhost:3000/api/checkBrackets' \
  -H 'accept: */*' \
  -H 'Content-Type: application/json' \
  -d '{
  "text": "test (string)"
}'
```
или с помощью Postman

## Вариант 2
1. собираем проект, для этого в командной строке в папке проекта выполняем команду
```shell
mvn clean package
```
2. запускаем проект
Если есть необходимость запустить приложение в контейнере, то подготовлен соответствующие Docker и docker-compose файлы
   (скачивание образа отдельной командной позволяет избежать некоторых проблем, когда docker compose отказывается это делать)
```shell
docker pull bellsoft/liberica-openjdk-alpine:17

docker compose up

```
Если же хотите оставить крутиться контейнер "без присмотра", следует запускать с флагом -d
```shell
docker compose up -d
```
Останавливать же его придется вручную:
```shell
docker container stop beautifulcode-sber 
```
3. Заходим в Swagger по адресу http://localhost:8080/ (если не меняли настройки порта)

Или тестируем curl'ом или Postman'ом
